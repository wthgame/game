# Welcome To Hell

this is probably the most schizo codebase ive written

## Environment Setup

Gurt: What you're doing is very smart but also very dangerous. (to your mental
health)

### Prerequisites

### Sanity

* Solid experience with Luau, including it's type system, especially needed for
    writing KitObjects: <https://luau.org/getting-started>
* Knowledge of TypeScript and the roblox-ts compiler, especially needed for
    writing the game's backend or UI: <https://roblox-ts.com/>

### Tooling

* Rokit, for downloading Roblox tooling: <https://github.com/rojo-rbx/rokit>
    * Verify `rokit` is installed by running `rokit -V`
* Bun, for downloading code dependencies: <https://bun.sh/>
    * Verify `bun` is installed by running `bun -v`
* Any IDE:
    * I use Zed: <https://zed.dev/>, MacOS only
    * You can (should if you don't know) use VSCode: <https://code.visualstudio.com/>
        * If you're using VSCode, install the Stylua extension: <https://marketplace.visualstudio.com/items?itemName=JohnnyMorganz.stylua>
* Luau LSP, for autocompletion in `.luau` files
    * If Zed: <https://github.com/4teapo/zed-luau>
    * If VSCode: <https://marketplace.visualstudio.com/items?itemName=JohnnyMorganz.luau-lsp>
* Just, for running development scripts: <https://github.com/casey/just>
    * Just can be compiled from Cargo, which is from the Rust toolchain:
        1. Download Cargo: <https://doc.rust-lang.org/cargo/getting-started/installation.html>
        2. Verify `cargo` is installed by running `cargo -V`
        3. Run `cargo install just`
        4. Verify `just` is installed by running `just -V`

Download Roblox tooling with Rokit:

```sh
rokit install
```

You should now have all the tools listed in `rokit.toml` installed by Rokit.

If you do not have the Rojo plugin installed, set it up by running:

```sh
rojo plugin
```

Download code dependencies:

```sh
bun i
```

You should see a `node_modules` folder be created from this.

Restart your code editor so all the editor tools can take in what insanity you
just did.

### Developing

You may often download other dependencies as you work, or need to reinstall it.

You can run this again:

```sh
bun i
```

With Just, run ONE of the following commands:

```sh
# Run this if serving to Welcome To Hell, the game
just watch-game

# Run this if serving to Welcome To Hell Kit Development
just watch-kit
```

Open the game in Studio. If you installed Rojo correctly, a new `Rojo` plugin
should be there. Click it, and a new panel appears. Click "Connect".

You may be prompted to accept the sync. Just accept it.

If everything works, GG gamer you can now start developing

You will repeat this lots of time for when you need to sync in the codebase to
Roblox Studio.

When you want to sync assets in `assets` and `audios` run
`asphalt run --target=studio`. This just copies over the image/sound asset files
to Studio without actually uploading them.

You may want to use the following resources:

* Roblox Open Source server: <https://discord.gg/VaDCnesCXj>
* roblox-ts server: <https://discord.gg/cMACFmHS7G>
* Rojo: <https://rojo.space/>

## Structure

### `kit`

Contains the user code for the Kit which includes the standard library
(utilities to make client objects) and KitObjects.

* `kit/core`: Core KitObjects such as `Button` that is included in the Kit and the main game
* `kit/internal`: Internal KitObjects such as `TowerPortal` only synced with `just watch-game`/into the main game
* `kit/std`: Standard library for all KitScripts to use

Read through the KitObjects to know what you should cook up.

Technical documentation is auto generated by a script, see the `kit/core/Modifiers/LimitActivations.luau` for an example

### `src`

Backend code written in TypeScript. Split into `core`, `game`, and `kit`.

* `src/core` contains core code shared between both the game and the Kit
* `src/game` contains game code only synced to the main game
* `src/kit` contains standalone Kit code only synced to the Kit development place

Each of these folders have three folders: `client`, `shared`, and `server`.

These mp to client code (`WTHClientX`), shared code both in ReplicatedStorage
(`WTHSharedX`) and server code in ServerScriptService (`WTHServerX`)

My advise is to just sync in the game and look at the explorer.

Networking definitions are in `game.blink` and `kit.blink` and `core.blink`
these will generate to `net.luau` client/server files in the `core`, `game`, and
`kit` folders. Read <https://1axen.github.io/blink> for more info.

If you have questions feel free to ask me znotfireman :))
